(this.webpackJsonpsocial_network_ts=this.webpackJsonpsocial_network_ts||[]).push([[3],{308:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n(108);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],s=!0,i=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(s=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);s=!0);}catch(a){i=!0,r=a}finally{try{s||null==c.return||c.return()}finally{if(i)throw r}}return n}}(e,t)||Object(s.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},309:function(e,t,n){e.exports={profile:"Profile_profile__1pk1s"}},310:function(e,t,n){e.exports={profileInfoContainer:"ProfileInfo_profileInfoContainer__31izu",profilePicBox:"ProfileInfo_profilePicBox__1v2ul",profileInfo:"ProfileInfo_profileInfo__3MZRw",profileName:"ProfileInfo_profileName__21N8p",profileStatus:"ProfileInfo_profileStatus__2pzyQ",inputPhoto:"ProfileInfo_inputPhoto__2vWme"}},311:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__5LJIW"}},312:function(e,t,n){e.exports={post:"Post_post__1TuW0",postBody:"Post_postBody__37jfN",postText:"Post_postText__1kRe1",likeArea:"Post_likeArea__6q2go",likes:"Post_likes__mY4Dr"}},313:function(e,t,n){e.exports={likesContainer:"Likes_likesContainer__2K8F7",likesCount:"Likes_likesCount__2zRNx",heart:"Likes_heart__1Dgfr",red:"Likes_red__2pvC4"}},314:function(e,t,n){e.exports={newPostForm:"NewPostForm_newPostForm__1M3y9"}},318:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n(309),r=n.n(i),o=n(310),c=n.n(o),a=n(43),l=n(107),u=n(308),j=n(1),f=function(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),i=n[0],r=n[1],o=Object(s.useState)(e.userStatus),c=Object(u.a)(o,2),a=c[0],l=c[1];return Object(s.useEffect)((function(){l(e.userStatus)}),[e.userStatus]),Object(j.jsx)("div",{children:e.isOwner?i?Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:Object(j.jsx)("input",{onBlur:function(){r(!1),e.setMyStatus(a)},onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,value:a})})}):Object(j.jsx)("div",{children:Object(j.jsx)("span",{title:"Click to edit",onClick:function(){return r(!0)},style:{cursor:"pointer"},children:e.userStatus||"---"})}):Object(j.jsx)("span",{children:e.userStatus||"---"})})},d=function(e){return Object(j.jsx)(j.Fragment,{children:e.profile?Object(j.jsxs)("div",{className:c.a.profileInfoContainer,children:[Object(j.jsxs)("div",{className:c.a.profilePicBox,children:[Object(j.jsx)("img",{src:e.profile.photos.large||l.a,alt:"avatar"}),e.isOwner&&Object(j.jsx)("input",{type:"file",onChange:function(t){var n;(null===(n=t.target.files)||void 0===n?void 0:n.length)&&e.uploadProfilePic(t.target.files[0])},className:c.a.inputPhoto})]}),Object(j.jsxs)("div",{className:c.a.profileInfo,children:[Object(j.jsx)("div",{className:c.a.profileName,children:e.profile.fullName}),Object(j.jsx)("div",{className:c.a.profileStatus,children:Object(j.jsx)(f,{userStatus:e.userStatus,setMyStatus:e.setMyStatus,isOwner:e.isOwner})})]})]}):Object(j.jsx)(a.a,{})})},b=n(11),p=n(9),O=n(109),h=n(311),x=n.n(h),_=n(312),m=n.n(_),v=n(24),P=n(313),k=n.n(P),y=function(e){var t=Object(s.useState)(!1),n=Object(u.a)(t,2),i=n[0],r=n[1],o="".concat(i?k.a.red:k.a.heart);return Object(j.jsxs)("div",{className:k.a.likesContainer,children:[Object(j.jsx)("div",{className:k.a.likesCount,children:e.likesCount}),Object(j.jsx)("div",{title:"Like",className:o,onClick:function(){e.onLike(),r(!0)}})]})},N=function(e){var t,n,s=null!==(t=null===(n=e.profile)||void 0===n?void 0:n.photos.large)&&void 0!==t?t:l.a;return Object(j.jsxs)("div",{className:m.a.post,children:[Object(j.jsxs)("div",{className:m.a.postBody,children:[Object(j.jsx)("div",{className:m.a.postAvatar,children:Object(j.jsx)("img",{src:s,alt:"profile_avatar"})}),Object(j.jsx)("div",{className:m.a.postText,children:e.postText})]}),Object(j.jsxs)("div",{className:m.a.likeArea,children:[Object(j.jsx)(y,{likesCount:e.likesCount,onLike:function(){return e.addLike(e.id)}}),Object(j.jsx)(v.a,{onClick:function(){return e.deletePost(e.id)},disabled:!1,children:" Delete "})]})]})},S=n(100),w=n(101),C=n(55),g=n(39),I=n(314),L=n.n(I),T=Object(g.a)(6e4),B=Object(w.a)({form:"newPost"})((function(e){return Object(j.jsx)("div",{className:L.a.newPostForm,children:Object(j.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(j.jsx)("div",{children:Object(j.jsx)(S.a,{placeholder:"let people know how you feel",name:"newPost",component:C.b,validate:[g.b,T]})}),Object(j.jsx)("span",{className:L.a.postButton,children:Object(j.jsx)(v.a,{children:"Post"})})]})})})),A=function(){var e=Object(p.d)((function(e){return e.profilePage})),t=e.posts,n=e.profile,s=Object(p.c)(),i=t.map((function(e){return Object(j.jsx)(N,{id:e.id,postText:e.postText,likesCount:e.likesCount,deletePost:function(e){return s(Object(O.c)(e))},addLike:function(e){return s(Object(O.a)(e))},profile:n},e.id)}));return Object(j.jsxs)("div",{className:x.a.myPosts,children:[Object(j.jsx)(B,{onSubmit:function(e){s(Object(O.b)(e.newPost))}}),Object(j.jsx)("div",{children:i})]})};t.default=Object(b.g)((function(e){var t=Object(p.d)((function(e){return e.profilePage})),n=t.profile,i=t.userStatus,o=Object(p.d)((function(e){return e.auth.userId})),c=Object(p.d)((function(e){return e.auth.isAuth})),a=Object(p.c)();return Object(s.useEffect)((function(){return function(){var t=+e.match.params.userId;o&&!t&&((t=o)||e.history.push("/login")),a(Object(O.f)(t)),a(Object(O.g)(t))}()}),[o,a,e.match.params.userId]),c?Object(j.jsxs)("div",{className:r.a.profile,children:[Object(j.jsx)("div",{children:Object(j.jsx)(d,{profile:n,isOwner:!e.match.params.userId,userStatus:i,setMyStatus:function(e){return a(Object(O.e)(e))},uploadProfilePic:function(e){return a(Object(O.h)(e))}})}),Object(j.jsx)("div",{children:Object(j.jsx)(A,{})})]}):Object(j.jsx)(b.a,{to:"/login"})}))}}]);
//# sourceMappingURL=3.7333b174.chunk.js.map