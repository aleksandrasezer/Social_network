(this.webpackJsonpsocial_network_ts=this.webpackJsonpsocial_network_ts||[]).push([[3],{308:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var r=s(103);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var s=[],r=!0,o=!1,i=void 0;try{for(var n,a=e[Symbol.iterator]();!(r=(n=a.next()).done)&&(s.push(n.value),!t||s.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return s}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},315:function(e,t,s){e.exports={profile:"Profile_profile__1pk1s"}},316:function(e,t,s){e.exports={profileInfoContainer:"ProfileInfo_profileInfoContainer__31izu",profilePicBox:"ProfileInfo_profilePicBox__1v2ul",profileInfo:"ProfileInfo_profileInfo__3MZRw",profileName:"ProfileInfo_profileName__21N8p",profileStatus:"ProfileInfo_profileStatus__2pzyQ"}},317:function(e,t,s){e.exports={myPosts:"MyPosts_myPosts__5LJIW"}},318:function(e,t,s){e.exports={post:"Post_post__1TuW0",postBody:"Post_postBody__37jfN",postText:"Post_postText__1kRe1",likeArea:"Post_likeArea__6q2go",likes:"Post_likes__mY4Dr"}},319:function(e,t,s){e.exports={likesContainer:"Likes_likesContainer__2K8F7",likesCount:"Likes_likesCount__2zRNx",heart:"Likes_heart__1Dgfr",red:"Likes_red__2pvC4"}},320:function(e,t,s){e.exports={newPostForm:"NewPostForm_newPostForm__1M3y9"}},324:function(e,t,s){"use strict";s.r(t);var r=s(3),o=s(134),i=s(135),n=s(141),a=s(139),c=s(0),l=s.n(c),u=s(10),f=s(104),p=s(315),d=s.n(p),j=s(316),h=s.n(j),b=s(43),O=s(102),x=s(308),m=s(17),v=s(1),_=function(e){var t=Object(c.useState)(!1),s=Object(x.a)(t,2),r=s[0],o=s[1],i=Object(c.useState)(e.userStatus),n=Object(x.a)(i,2),a=n[0],l=n[1];return m.c.getUserStatus("2").then((function(e){return console.log(e)})),Object(c.useEffect)((function(){l(e.userStatus)}),[e.userStatus]),Object(v.jsx)("div",{children:r?Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)("input",{onBlur:function(){o(!1),e.setMyStatus(a)},onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,value:a})})}):Object(v.jsx)("div",{children:Object(v.jsx)("span",{title:"Double click to edit",onDoubleClick:function(){return o(!0)},children:e.userStatus||"---"})})})};var P=function(e){return Object(v.jsx)(v.Fragment,{children:e.profile?Object(v.jsxs)("div",{className:h.a.profileInfoContainer,children:[Object(v.jsxs)("div",{className:h.a.profilePicBox,children:[Object(v.jsx)("img",{src:e.profile.photos.large||O.a,alt:"profile_avatar"}),e.isOwner&&Object(v.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.uploadProfilePic(t.target.files[0])}})]}),Object(v.jsxs)("div",{className:h.a.profileInfo,children:[Object(v.jsx)("div",{className:h.a.profileName,children:e.profile.fullName}),Object(v.jsx)("div",{className:h.a.profileStatus,children:Object(v.jsx)(_,{userStatus:e.userStatus,setMyStatus:e.setMyStatus})})]})]}):Object(v.jsx)(b.a,{})})},k=s(317),y=s.n(k),S=s(318),C=s.n(S),N=s(30),g=s(319),I=s.n(g),w=function(e){var t=Object(c.useState)(!1),s=Object(x.a)(t,2),r=s[0],o=s[1],i="".concat(r?I.a.red:I.a.heart);return Object(v.jsxs)("div",{className:I.a.likesContainer,children:[Object(v.jsx)("div",{className:I.a.likesCount,children:e.likesCount}),Object(v.jsx)("div",{title:"Like",className:i,onClick:function(){e.onLike(),o(!0)}})]})};var A=function(e){var t,s,r=null!==(t=null===(s=e.profile)||void 0===s?void 0:s.photos.large)&&void 0!==t?t:O.a;return Object(v.jsxs)("div",{className:C.a.post,children:[Object(v.jsxs)("div",{className:C.a.postBody,children:[Object(v.jsx)("div",{className:C.a.postAvatar,children:Object(v.jsx)("img",{src:r,alt:"profile_avatar"})}),Object(v.jsx)("div",{className:C.a.postText,children:e.postText})]}),Object(v.jsxs)("div",{className:C.a.likeArea,children:[Object(v.jsx)(w,{likesCount:e.likesCount,onLike:function(){return e.addLike(e.id)}}),Object(v.jsx)(N.a,{onClick:function(){return e.deletePost(e.id)},disabled:!1,children:" Delete "})]})]})},L=s(137),M=s(138),T=s(81),B=s(65),U=s(320),D=s.n(U),F=Object(B.a)(6e4),z=Object(M.a)({form:"newPost"})((function(e){return Object(v.jsx)("div",{className:D.a.newPostForm,children:Object(v.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(v.jsx)("div",{children:Object(v.jsx)(L.a,{placeholder:"let people know how you feel",name:"newPost",component:T.b,validate:[B.b,F]})}),Object(v.jsx)("span",{className:D.a.postButton,children:Object(v.jsx)(N.a,{children:"Post"})})]})})}));var J=function(e){var t=e.posts.map((function(t){return Object(v.jsx)(A,{id:t.id,postText:t.postText,likesCount:t.likesCount,deletePost:e.deletePostAC,addLike:e.addLikeAC,profile:e.profile},t.id)}));return Object(v.jsxs)("div",{className:y.a.myPosts,children:[Object(v.jsx)(z,{onSubmit:function(t){e.addPostAC(t.newPost)}}),Object(v.jsx)("div",{children:t})]})},R=Object(u.b)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile}}),{deletePostAC:f.c,addPostAC:f.b,addLikeAC:f.a})(J),E=s(11);var W=function(e){return e.isAuth?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:d.a.profile,children:Object(v.jsx)(P,{profile:e.profile,isOwner:e.isOwner,userStatus:e.userStatus,setMyStatus:e.setMyStatus,uploadProfilePic:e.uploadProfilePic})}),Object(v.jsx)("div",{children:Object(v.jsx)(R,{})})]}):Object(v.jsx)(E.a,{to:"/login"})},q=s(12),K=function(e){Object(n.a)(s,e);var t=Object(a.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.setUserProfileInfo(e),this.props.setUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(W,Object(r.a)(Object(r.a)({},this.props),{},{uploadProfilePic:this.props.uploadProfilePic,isOwner:!this.props.match.params.userId,profile:this.props.profile,userStatus:this.props.userStatus,setMyStatus:this.props.setMyStatus,isAuth:this.props.isAuth}))}}]),s}(l.a.Component);t.default=Object(q.d)(E.g,Object(u.b)((function(e){return{profile:e.profilePage.profile,userStatus:e.profilePage.userStatus,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{setUserProfileInfo:f.f,setUserStatus:f.g,setMyStatus:f.e,uploadProfilePic:f.h}))(K)}}]);
//# sourceMappingURL=3.31ae30f6.chunk.js.map