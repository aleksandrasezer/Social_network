{"version":3,"sources":["components/profile/MyPosts/newPost/NewPostForm.module.css","components/dialogs/messages/Messages.module.css","components/Button/Button.module.css","components/profile/Profile.module.css","components/common/preload/Preload.module.css","components/profile/MyPosts/MyPosts.module.css","components/navbar/Navbar.module.css","components/dialogs/messages/message/Message.module.css","components/dialogs/messages/message/newMessage/NewMessage.module.css","components/video/Video.module.css","components/navbar/Navbar.tsx","dal/api.tsx","redux/auth-reducer.ts","assets/images/header.png","components/header/Header.tsx","components/header/HeaderContainer.tsx","components/Button/Button.tsx","validators/validators.ts","components/common/formControls/FormControls.tsx","components/login/Login.tsx","redux/profile-reducer.ts","components/common/preload/Preload.tsx","assets/images/bryan_avatar.jpg","components/profile/ProfileInfo/ProfileStatus.tsx","components/profile/ProfileInfo/ProfileInfo.tsx","components/common/likes/Likes.tsx","components/profile/MyPosts/Post/Post.tsx","components/profile/MyPosts/newPost/NewPostForm.tsx","components/profile/MyPosts/MyPosts.tsx","components/profile/MyPosts/MyPostsContainer.tsx","components/profile/Profile.tsx","components/profile/ProfileContainer.tsx","redux/users-reducer.ts","components/users/user/User.tsx","components/common/search-field/SearchField.tsx","components/users/Users.tsx","redux/users-selectors.ts","components/users/UsersContainer.tsx","components/dialogs/messages/message/Message.tsx","components/dialogs/messages/message/newMessage/NewMessage.tsx","components/dialogs/messages/Messages.tsx","assets/images/morty.png","components/dialogs/Dialog/Dialog.tsx","components/dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","redux/dialogs-reducer.ts","components/dialogs/DialogsContainer.tsx","redux/app-reducer.ts","assets/images/spotify_icon.png","components/music/Music.tsx","components/video/Video.tsx","App.tsx","reportWebVitals.ts","redux/redux-store.ts","index.tsx","components/users/user/User.module.css","components/common/formControls/FormControls.module.css","components/profile/ProfileInfo/ProfileInfo.module.css","components/profile/MyPosts/Post/Post.module.css","components/users/Users.module.css","components/header/Header.module.css","components/login/Login.module.css","components/common/likes/Likes.module.css","components/common/search-field/SearchField.module.css","components/music/Music.module.css","components/dialogs/Dialogs.module.css","components/dialogs/Dialog/Dialog.module.css"],"names":["module","exports","Navbar","className","s","navbar","item","activeClassName","activeLink","to","linkName","instance","axios","create","withCredentials","baseURL","headers","profileAPI","userId","get","then","response","data","newStatus","put","status","usersAPI","currentPage","pageSize","nameSearch","isFollowed","authAPI","email","password","rememberMe","post","delete","followAPI","followUser","unfollowUser","initState","login","isAuth","setAuthUserLogin","type","payload","setAuthUserData","dispatch","a","meData","resultCode","id","Header","props","header","src","headerPic","alt","loginBlock","userName","logOut","onClick","logout","HeadApiContainer","this","React","Component","connect","state","auth","Button","buttonStyle","disabled","children","required","value","undefined","maxLengthCreator","maxLength","length","FormControl","input","meta","child","error","touched","errorMessage","textareaClass","errorTextfield","errorBlock","Textarea","restProps","Input","maxLength25","LoginReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","name","component","validate","loginFormError","st","loginItem","loginResp","message","messages","stopSubmit","_error","loginContainer","style","fontWeight","formData","free","href","target","color","initialState","posts","v1","postText","likesCount","profile","userStatus","setUsersStatus","Preload","ldsCircle","ProfileStatus","useState","editMode","setEditMode","setStatus","console","log","useEffect","onBlur","setMyStatus","onChange","e","currentTarget","autoFocus","title","onDoubleClick","ProfileInfo","profileInfoContainer","profilePicBox","photos","large","avatar","profileInfo","profileName","fullName","profileStatus","Likes","red","setRed","heartClassName","heart","likesContainer","onLike","Post","userAvatar","postBody","postAvatar","likeArea","addLike","deletePost","maxLength60tn","newPostForm","postButton","MyPosts","myPostsItems","map","el","deletePostAC","addLikeAC","myPosts","addPostAC","newPost","MyPostsContainer","profilePage","newPostText","Profile","ProfileContainer","match","params","authorizedUserId","history","push","setUserProfileInfo","setUserStatus","compose","withRouter","userData","users","totalUsersCount","isFetching","followingInProgress","follow","unfollow","setIsFetching","setNameSearch","setIsFollowed","setFollowingProgress","inProgress","setUsersFromServer","usersData","items","totalUsers","totalCount","_followUnfollow","apiRequest","actionCreator","User","userBody","avatarAndFollow","small","userPhoto","profilePic","followed","some","infoContainer","nameSurname","cityCountry","SearchUsersField","useDispatch","useSelector","usersPage","formik","useFormik","initialValues","values","searchContainer","followedButton","notFollowedButton","handleChange","Users","pagesCount","Math","ceil","usersList","u","paginateContainer","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","pageRangeDisplayed","marginPagesDisplayed","onPageChange","onPageChanged","containerClassName","pagination","active","getUsers","createSelector","filter","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","selectedItem","setCurrentPage","selected","onNextPage","onPrevPage","bind","pageNumber","Message","maxLength5000","newMessageForm","Messages","messagesItems","messageText","messagesContainer","addMessage","Dialog","dialog","morty","activeDialog","Dialogs","dialogsItems","dialogs","newMessageText","addMessageAC","mapStateToProps","dialogsPage","initialized","Music","musicContainer","spotifyText","arrowDown","spotifyIcon","spotify","Video","textAlign","embedId","YoutubeEmbed","videoResponsive","width","height","frameBorder","allow","allowFullScreen","App","initializeApp","path","exact","render","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","p","formReducer","store","createStore","applyMiddleware","thunk","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3024c3d4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPostForm\":\"NewPostForm_newPostForm__1M3y9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messagesContainer\":\"Messages_messagesContainer__3m2Tc\",\"messages\":\"Messages_messages__3dJpS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"buttonStyle\":\"Button_buttonStyle__3AyUI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1pk1s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsCircle\":\"Preload_ldsCircle__3haJ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__5LJIW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__30T44\",\"linkName\":\"Navbar_linkName__juEzS\",\"item\":\"Navbar_item__1pQ3u\",\"activeLink\":\"Navbar_activeLink__3A5tg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__2W_-k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newMessageForm\":\"NewMessage_newMessageForm__3B_Fo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoResponsive\":\"Video_videoResponsive__q7vYW\"};","import React from \"react\";\r\nimport s from \"./Navbar.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Navbar() {\r\n    return <div className={s.navbar}>\r\n        <div className={s.item}>\r\n            <NavLink activeClassName={s.activeLink} to=\"/profile\">\r\n                <div className={s.linkName}>Profile</div>\r\n            </NavLink>\r\n        </div>\r\n\r\n        <div className={s.item}>\r\n            <NavLink activeClassName={s.activeLink} to=\"/dialogs\">\r\n                <div className={s.linkName}>Messages</div>\r\n            </NavLink>\r\n        </div>\r\n\r\n        <div className={s.item}>\r\n            <NavLink activeClassName={s.activeLink} to='/users'>\r\n                <div className={s.linkName}>Users</div>\r\n\r\n            </NavLink>\r\n        </div>\r\n\r\n        <div className={s.item}>\r\n            <NavLink activeClassName={s.activeLink} to='/music'>\r\n                <div className={s.linkName}>Music</div>\r\n            </NavLink>\r\n        </div>\r\n\r\n        <div className={s.item}>\r\n            <NavLink activeClassName={s.activeLink} to='/video'>\r\n                <div className={s.linkName}>Video</div>\r\n            </NavLink>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Navbar;","import axios from \"axios\";\r\n\r\nconst instance = axios.create(\r\n    {\r\n        withCredentials: true,\r\n        baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n        headers: {\r\n            \"API-KEY\": \"4f348a4d-b27b-44e2-b016-551b13e8fd56\",\r\n        }\r\n    })\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId: string) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then(response => response.data)\r\n    },\r\n    getUserStatus(userId: string) {\r\n        return instance.get(`/profile/status/${userId}`)\r\n    },\r\n    setMyStatus(newStatus: string) {\r\n\r\n        return instance.put('profile/status', {status: newStatus})\r\n    },\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number, pageSize: number, nameSearch?: string, isFollowed?: null | boolean) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}&term=${nameSearch}&friend=${isFollowed}`)\r\n        .then(response => response.data)\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    getAuthUserData() {\r\n        return instance.get(`auth/me`).then(response => response.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean) {\r\n        return instance.post('auth/login', {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete('auth/login')\r\n    }\r\n}\r\n\r\nexport const followAPI = {\r\n    followUser(userId: number) {\r\n        return instance.post(`follow/${userId}`).then(response => response.data)\r\n\r\n    },\r\n    unfollowUser(userId: number) {\r\n        return instance.delete(`follow/${userId}`).then(response => response.data)\r\n\r\n    },\r\n}\r\n\r\n\r\n","import {authAPI} from \"../dal/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {AppThunk} from \"./redux-store\";\r\n\r\n\r\nexport type InitStateType = typeof initState\r\nexport type AuthActionsType = ReturnType<typeof setAuthUserLogin>\r\n\r\nconst initState = {\r\n    userId: null as number | null,\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false\r\n}\r\n\r\nexport const authReducer = (state: InitStateType = initState, action: AuthActionsType): InitStateType => {\r\n    switch (action.type) {\r\n        case 'AUTH/SET_USER_DATA':\r\n            return {...state, ...action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nconst setAuthUserLogin = (userId: number | null, login: string | null, email: string | null, isAuth: boolean) => {\r\n    return {\r\n        type: 'AUTH/SET_USER_DATA',\r\n        payload: {userId, login, email, isAuth}\r\n    } as const\r\n}\r\n\r\n//thunk\r\nexport const setAuthUserData = (): AppThunk => async (dispatch) => {\r\n    const meData = await authAPI.getAuthUserData()\r\n    if (meData.resultCode === 0) {\r\n        const {id, login, email} = meData.data\r\n        dispatch(setAuthUserLogin(id, login, email, true))\r\n    }\r\n}\r\n\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean = false): AppThunk => async (dispatch) => {\r\n    const loginResp = await authAPI.login(email, password, rememberMe)\r\n    if (loginResp.data.resultCode === 0) {\r\n        dispatch(setAuthUserData())\r\n    } else {\r\n        let message = loginResp.data.messages.length > 0 ? loginResp.data.messages[0] : \"Some error\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\n\r\nexport const logout = (): AppThunk => async (dispatch) => {\r\n    const logoutResp = await authAPI.logout()\r\n    if (logoutResp.data.resultCode === 0) {\r\n        dispatch(setAuthUserLogin(null, null, null, false))\r\n    }\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/header.18c2a620.png\";","import React from \"react\";\r\nimport s from \"./Header.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {InitStateType} from \"../../redux/auth-reducer\";\r\nimport headerPic from '../../assets/images/header.png'\r\n\r\ntype HeaderPropsType = {\r\n    data: InitStateType\r\n    logout: () => void\r\n}\r\n\r\nfunction Header(props: HeaderPropsType) {\r\n    return (\r\n        <div className={s.header}>\r\n\r\n            <img src={headerPic}\r\n                 alt=\"logo\"/>\r\n\r\n            <div className={s.loginBlock}>\r\n                {props.data.isAuth\r\n\r\n                    ? <div>\r\n                        <NavLink to=\"/profile\">\r\n                            <div className={s.userName}>\r\n                            {props.data.login}\r\n                        </div>\r\n                        </NavLink>\r\n\r\n                        <div className={s.logOut} onClick={props.logout}>\r\n                            Log out\r\n                        </div>\r\n                    </div>\r\n\r\n                    : <NavLink to={'/login'}>Login</NavLink>\r\n\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport {RootState} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {InitStateType, logout} from \"../../redux/auth-reducer\";\r\nimport Header from \"./Header\";\r\n\r\ntype HeaderApiContPropsType = {\r\n    data: InitStateType\r\n    logout: () => void\r\n}\r\n\r\nclass HeadApiContainer extends React.Component<HeaderApiContPropsType> {\r\n\r\n    render() {\r\n        return <Header data={this.props.data} logout={this.props.logout}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\n    return {\r\n        data: state.auth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeadApiContainer)","import React, {ButtonHTMLAttributes, DetailedHTMLProps} from \"react\"\r\nimport s from './Button.module.css'\r\n\r\n/*type ButtonPropsTypes = {\r\n    onClick: () => void\r\n    disabled: boolean\r\n    children: string\r\n}*/\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<ButtonHTMLAttributes<HTMLButtonElement>, HTMLButtonElement>\r\n\r\nexport function Button(props: DefaultButtonPropsType) {\r\n    return (\r\n        <span className={s.buttonStyle}>\r\n        <button disabled={props.disabled}\r\n                onClick={props.onClick}>\r\n            {props.children}\r\n        </button>\r\n        </span>\r\n    )\r\n}","\r\n\r\nexport const required = (value: string) => {\r\n    return value ? undefined : 'field required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    return value.length > maxLength ? `max length is ${maxLength}` : undefined\r\n}","import React from \"react\";\r\nimport s from './FormControls.module.css'\r\n\r\nconst FormControl = ({input, meta, child, ...props}: any) => {\r\n    const error = meta.touched && meta.error\r\n    const errorMessage = error ? `${meta.error}` : ' '\r\n    const textareaClass = error ? `${s.errorTextfield}` : undefined\r\n\r\n    return <div className={textareaClass}>\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n        <div className={s.errorBlock}>\r\n            <span className={s.errorMessage}>{errorMessage}</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const Textarea = (props: any) => {\r\n    const {input, meta, child,...restProps} = props\r\n\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props: any) => {\r\n    const {input, meta, child, ...restProps} = props\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}","import React from \"react\"\r\nimport {Field,InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Button} from \"../Button/Button\";\r\nimport {maxLengthCreator, required} from \"../../validators/validators\";\r\nimport {Input} from \"../common/formControls/FormControls\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {RootState} from \"../../redux/redux-store\";\r\nimport s from \"../common/formControls/FormControls.module.css\";\r\nimport st from './Login.module.css'\r\n\r\ntype FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst maxLength25 = maxLengthCreator(25)\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder={'Email'}\r\n                       name={'email'}\r\n                       component={Input}\r\n                       validate={[required, maxLength25]}/>\r\n            </div>\r\n\r\n            <div>\r\n                <Field placeholder={'Password'}\r\n                       type='password'\r\n                       name={'password'}\r\n                       component={Input}\r\n                       validate={[required, maxLength25]}/>\r\n            </div>\r\n\r\n            { props.error && <div className={s.loginFormError}>\r\n                {props.error}\r\n            </div>}\r\n\r\n            <div className={st.loginItem}>\r\n                <Field type={'checkbox'}\r\n                       name={'rememberMe'}\r\n                       component={'input'} /> remember me\r\n            </div>\r\n\r\n            <div className={st.loginItem}>\r\n                <Button onClick={() => {}} disabled={false}>Login</Button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\n\r\ntype LoginPropsType = {\r\n    isAuth: boolean\r\n    login: (email: string, password: string, rememberMe: boolean) => void\r\n}\r\n\r\nconst Login = (props: LoginPropsType) => {\r\n\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n\r\n    return <div className={st.loginContainer}>\r\n        <h1 style={{fontWeight: 'bold'}}>Sign in here</h1>\r\n\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n\r\n        <div className={st.free}>\r\n            To log in get registered <a href='https://social-network.samuraijs.com/' target='_blank'>here</a><br/>\r\n            or use common test account credentials: <br/>\r\n            Email: <span style={{color: 'black'}}>free@samuraijs.com</span> <br/>\r\n            Password: <span style={{color: 'black'}}>free</span>\r\n        </div>\r\n\r\n\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n export default connect(mapStateToProps, {login})(Login)\r\n","import {v1} from \"uuid\";\r\nimport {profileAPI} from \"../dal/api\";\r\nimport {PostType, ProfileType} from \"../types/types\";\r\nimport {AppThunk} from \"./redux-store\";\r\n\r\nexport type ProfileActionsType =\r\n    ReturnType<typeof deletePostAC>\r\n    | ReturnType<typeof setUsersProfile>\r\n    | ReturnType<typeof setUsersStatus>\r\n    | ReturnType<typeof addPostAC>\r\n    | ReturnType<typeof addLikeAC>\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: v1(), postText: \"Hello there\", likesCount: 8},\r\n        {id: v1(), postText: \"It's cold in here\", likesCount: 12},\r\n        {id: v1(), postText: \"I miss my mom\", likesCount: 35},\r\n    ],\r\n    profile: null as ProfileType | null,\r\n    userStatus: '',\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\n\r\nexport const profileReducer = (state: InitialStateType = initialState, action: ProfileActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'PROFILE/DELETE-POST':\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts].filter(p => p.id !== action.id)\r\n            }\r\n        case 'PROFILE/SET-PROFILE':\r\n            return {...state, profile: action.profile}\r\n        case 'PROFILE/SET-USERS-STATUS':\r\n            return {...state, userStatus: action.status}\r\n        case 'PROFILE/ADD-LIKE':\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts]\r\n                    .map(p => p.id === action.id ? {...p,likesCount: p.likesCount + 1} : p)\r\n            }\r\n        case 'PROFILE/ADD-POST':\r\n            const newPost: PostType = {\r\n                id: v1(),\r\n                postText: action.newPostText,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [newPost, ...state.posts]\r\n            }\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n\r\n//action-creators\r\n\r\nexport const deletePostAC = (id: string) => ({type: 'PROFILE/DELETE-POST', id} as const)\r\nexport const addPostAC = (newPostText: string) => ({type: 'PROFILE/ADD-POST', newPostText} as const)\r\nexport const addLikeAC = (id: string) => ({type: 'PROFILE/ADD-LIKE', id} as const)\r\nconst setUsersProfile = (profile: ProfileType | null) => ({type: 'PROFILE/SET-PROFILE', profile} as const)\r\nconst setUsersStatus = (status: string) => ({type: 'PROFILE/SET-USERS-STATUS', status} as const)\r\n\r\n//thunk-creators\r\nexport const setUserProfileInfo = (userId: string): AppThunk => async (dispatch) => {\r\n    const userData = await profileAPI.getUserProfile(userId)\r\n    dispatch(setUsersProfile(userData))\r\n}\r\nexport const setUserStatus = (userId: string): AppThunk => async (dispatch) => {\r\n    const response = await profileAPI.getUserStatus(userId)\r\n    if (response.status === 200) {\r\n        dispatch(setUsersStatus(response.data))\r\n    }\r\n}\r\nexport const setMyStatus = (newStatus: string): AppThunk => async (dispatch) => {\r\n    const response = await profileAPI.setMyStatus(newStatus)\r\n    if (response.status === 200) {\r\n        dispatch(setUsersStatus(newStatus))\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport s from './Preload.module.css';\r\n\r\nexport const Preload = () => {\r\n    return <div className={s.ldsCircle}>\r\n        <div></div>\r\n    </div>\r\n}","export default __webpack_public_path__ + \"static/media/bryan_avatar.f39f3345.jpg\";","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport {profileAPI} from \"../../../dal/api\";\r\n\r\ntype ProfileStatusPropsType = {\r\n    userStatus: string\r\n    setMyStatus: (newStatus: string) => void\r\n}\r\n\r\nexport const ProfileStatus = (props: ProfileStatusPropsType) => {\r\n\r\n\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.userStatus)\r\n\r\n    const onEditMode = () => setEditMode(true)\r\n    const offEditMode = () => {\r\n        setEditMode(false)\r\n        props.setMyStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    profileAPI.getUserStatus('2').then((response) => console.log(response))\r\n\r\n    useEffect(() => {setStatus(props.userStatus)}, [props.userStatus])\r\n\r\n    return (\r\n        <div>\r\n            {!editMode\r\n                ? <div>\r\n                    <span title='Double click to edit' onDoubleClick={onEditMode}>{props.userStatus || '---'}</span>\r\n                </div>\r\n\r\n                : <div>\r\n                    <div>\r\n                        <input onBlur={offEditMode}\r\n                               onChange={onStatusChange}\r\n                               autoFocus={true}\r\n                               value={status}/>\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n\r\n}","import React from \"react\";\r\nimport s from \"./ProfileInfo.module.css\"\r\nimport {Preload} from \"../../common/preload/Preload\";\r\nimport avatar from '../../../assets/images/bryan_avatar.jpg'\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport {ProfileType} from \"../../../types/types\";\r\n\r\ntype ProfileInfoPropsType = {\r\n    profile: ProfileType | null\r\n    userStatus: string\r\n    setMyStatus: (newStatus: string) => void\r\n}\r\n\r\nfunction ProfileInfo(props: ProfileInfoPropsType) {\r\n\r\n    return <>\r\n\r\n        {!props.profile\r\n            ? <Preload/>\r\n\r\n            : <div className={s.profileInfoContainer}>\r\n\r\n                <div className={s.profilePicBox}>\r\n                    <img src={props.profile.photos.large || avatar} alt='profile_avatar'/>\r\n                </div>\r\n\r\n                <div className={s.profileInfo}>\r\n\r\n                    <div className={s.profileName}>\r\n                        {props.profile.fullName}\r\n                    </div>\r\n\r\n                    <div className={s.profileStatus}>\r\n                    <ProfileStatus userStatus={props.userStatus}\r\n                                   setMyStatus={props.setMyStatus}/>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        }\r\n    </>\r\n\r\n}\r\n\r\nexport default ProfileInfo;","import React, {useState} from \"react\";\r\nimport s from './Likes.module.css'\r\n\r\ntype LikesPropsType = {\r\n    likesCount: number\r\n    onLike: () => void\r\n}\r\n\r\nexport const Likes = (props: LikesPropsType) => {\r\n\r\n    const [red, setRed] = useState<boolean>(false)\r\n\r\n    const heartClassName = !red ? `${s.heart}` : `${s.red}`\r\n\r\n    const onHeartClickHandler = () => {\r\n        props.onLike()\r\n        setRed(true)\r\n    }\r\n\r\n    return <div className={s.likesContainer}>\r\n\r\n        <div className={s.likesCount}>\r\n            {props.likesCount}\r\n        </div>\r\n\r\n        <div title='Like' className={heartClassName} onClick={onHeartClickHandler}></div>\r\n\r\n    </div>\r\n}","import React from \"react\";\r\nimport s from \"./Post.module.css\"\r\nimport {Button} from \"../../../Button/Button\";\r\nimport {PostType, ProfileType} from \"../../../../types/types\";\r\nimport {Likes} from \"../../../common/likes/Likes\";\r\nimport avatar from '../../../../assets/images/bryan_avatar.jpg'\r\n\r\n\r\ntype PostPropsType = PostType & {\r\n    deletePost: (id: string) => void\r\n    addLike: (id: string) => void\r\n    profile: ProfileType | null\r\n}\r\n\r\nfunction Post(props: PostPropsType) {\r\n\r\n    const userAvatar = props.profile?.photos.large ?? avatar\r\n\r\n    return (\r\n        <div className={s.post}>\r\n            <div className={s.postBody}>\r\n                <div className={s.postAvatar}>\r\n                    <img src={userAvatar} alt='profile_avatar'/>\r\n                </div>\r\n                <div className={s.postText}>\r\n                    {props.postText}\r\n                </div>\r\n            </div>\r\n            <div className={s.likeArea}>\r\n\r\n                <Likes likesCount={props.likesCount}\r\n                       onLike={() => props.addLike(props.id)}/>\r\n\r\n                <Button onClick={() => props.deletePost(props.id)}\r\n                        disabled={false}> Delete </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../common/formControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../../../validators/validators\";\r\nimport {Button} from \"../../../Button/Button\";\r\nimport s from './NewPostForm.module.css'\r\n\r\nconst maxLength60tn = maxLengthCreator(60000)\r\n\r\nexport type PostFormDataType = {\r\n    newPost: string\r\n}\r\n\r\nconst NewPostForm: React.FC<InjectedFormProps<PostFormDataType>> = (props) => {\r\n    return (\r\n        <div className={s.newPostForm}>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field placeholder={'let people know how you feel'}\r\n                           name={'newPost'}\r\n                           component={Textarea}\r\n                           validate={[required, maxLength60tn]}/>\r\n                </div>\r\n\r\n                <span className={s.postButton}>\r\n                    <Button>Post</Button>\r\n                </span>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default reduxForm<PostFormDataType>({form: 'newPost'})(NewPostForm)","import React from \"react\";\r\nimport s from \"./MyPosts.module.css\"\r\nimport Post from \"./Post/Post\";\r\nimport {PostType, ProfileType} from \"../../../types/types\";\r\nimport NewPostForm, {PostFormDataType} from \"./newPost/NewPostForm\";\r\n\r\ntype MyPostsPropsType = {\r\n    posts: PostType[]\r\n    deletePostAC: (id: string) => void\r\n    addPostAC: (newPostText: string) => void\r\n    addLikeAC: (id: string) => void\r\n    profile: ProfileType | null\r\n}\r\n\r\nfunction MyPosts(props: MyPostsPropsType) {\r\n\r\n    //posts list\r\n    let myPostsItems = props.posts.map((el) => <Post key={el.id}\r\n                                                     id={el.id}\r\n                                                     postText={el.postText}\r\n                                                     likesCount={el.likesCount}\r\n                                                     deletePost={props.deletePostAC}\r\n                                                     addLike={props.addLikeAC}\r\n                                                     profile={props.profile}/>)\r\n\r\n    //handler for add post redux form\r\n    const onAddPost = (formData: PostFormDataType) => {\r\n        props.addPostAC(formData.newPost)\r\n    }\r\n\r\n    return (\r\n        <div className={s.myPosts}>\r\n\r\n            <NewPostForm onSubmit={onAddPost} />\r\n\r\n            <div>\r\n                { myPostsItems }\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default MyPosts;","import {addLikeAC, addPostAC, deletePostAC} from \"../../../redux/profile-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {RootState} from \"../../../redux/redux-store\";\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        profile: state.profilePage.profile,\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer =\r\n    connect(mapStateToProps, {deletePostAC,addPostAC, addLikeAC})(MyPosts)","import React from \"react\";\r\nimport s from \"./Profile.module.css\"\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../types/types\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\ntype ProfilePropsType = {\r\n    profile: ProfileType | null\r\n    userStatus: string\r\n    setMyStatus: (newStatus: string) => void\r\n    isAuth: boolean\r\n}\r\n\r\nfunction Profile(props: ProfilePropsType) {\r\n\r\n    if (!props.isAuth) {\r\n        return <Redirect to='/login'/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n\r\n            <div className={s.profile}>\r\n                <ProfileInfo profile={props.profile}\r\n                             userStatus={props.userStatus}\r\n                             setMyStatus={props.setMyStatus}/>\r\n            </div>\r\n            <div>\r\n                <MyPostsContainer />\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport {RootState} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {setMyStatus, setUserProfileInfo, setUserStatus} from \"../../redux/profile-reducer\";\r\nimport Profile from \"./Profile\";\r\nimport {RouteComponentProps, withRouter} from \"react-router\"\r\nimport {compose} from \"redux\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\ntype mapStateToPropsType = {\r\n    profile: ProfileType\r\n    userStatus: string\r\n    authorizedUserId: string\r\n    isAuth: boolean\r\n}\r\ntype mapDispatchToPropsType = {\r\n    setUserProfileInfo: (userId: string) => void\r\n    setUserStatus: (userId: string) => void\r\n    setMyStatus: (newStatus: string) => void\r\n}\r\ntype ProfilePropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\ntype ProfileContainerPropsType = RouteComponentProps<PathParamsType> & ProfilePropsType\r\n\r\n\r\nclass ProfileContainer extends React.Component<ProfileContainerPropsType> {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if (!userId) {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n\r\n\r\n        this.props.setUserProfileInfo(userId)\r\n\r\n        this.props.setUserStatus(userId)\r\n\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}\r\n                        profile={this.props.profile}\r\n                        userStatus={this.props.userStatus}\r\n                        setMyStatus={this.props.setMyStatus}\r\n                        isAuth={this.props.isAuth}/>\r\n    }\r\n}\r\n\r\n\r\n//redux part\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        userStatus: state.profilePage.userStatus,\r\n        authorizedUserId: state.auth.userId,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {setUserProfileInfo, setUserStatus, setMyStatus}),\r\n//    withAuthRedirect,\r\n)(ProfileContainer)\r\n\r\n","import {followAPI, usersAPI} from \"../dal/api\";\r\nimport {UserType} from \"../types/types\";\r\nimport {AppThunk} from \"./redux-store\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nexport type UsersActionsType = ReturnType<typeof follow> | ReturnType<typeof unfollow> |\r\n    ReturnType<typeof setUsers> | ReturnType<typeof setCurrentPage> |\r\n    ReturnType<typeof setTotalUsersCount> | ReturnType<typeof setIsFetching> |\r\n    ReturnType<typeof setFollowingProgress> | ReturnType<typeof setNameSearch>\r\n    | ReturnType<typeof setIsFollowed>\r\n\r\nexport type UsersPageType = {\r\n    users: UserType[]\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    followingInProgress: number[]\r\n    nameSearch: string\r\n    isFollowed: null | boolean\r\n}\r\n\r\nlet initialState: UsersPageType = {\r\n    users: [],\r\n    currentPage: 1,\r\n    totalUsersCount: 0,\r\n    pageSize: 10,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n    nameSearch: '',\r\n    isFollowed: null,\r\n}\r\n\r\nexport const usersReducer = (state: UsersPageType = initialState, action: UsersActionsType) => {\r\n    switch (action.type) {\r\n        case 'USERS/FOLLOW':\r\n            return {...state, users: state.users.map(el => el.id === action.id ? {...el, followed: true} : el)}\r\n        case 'USERS/UNFOLLOW':\r\n            return {...state, users: state.users.map(el => el.id === action.id ? {...el, followed: false} : el)}\r\n        case 'USERS/SET-USERS':\r\n            return {...state, users: action.users}\r\n        case 'USERS/SET-CURRENT-PAGE':\r\n            return {...state, currentPage: action.pageNumber}\r\n        case 'USERS/SET-TOTAL-USERS-COUNT':\r\n            return {...state, totalUsersCount: action.totalUsers}\r\n        case 'USERS/SET-IS-FETCHING':\r\n            return {...state, isFetching: action.isFetching}\r\n        case 'USERS/SET-IS-FOLLOWED':\r\n            return {...state, isFollowed: action.isFollowed}\r\n        case 'USERS/SET-NAME-SEARCH':\r\n            return {...state, nameSearch: action.nameSearch}\r\n        case 'USERS/SET-FOLLOWING-PROGRESS':\r\n            return {\r\n                ...state, followingInProgress: action.inProgress\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n\r\nconst follow = (id: number) => ({type: 'USERS/FOLLOW', id}) as const\r\nconst unfollow = (id: number) => ({type: 'USERS/UNFOLLOW', id}) as const\r\nconst setUsers = (users: UserType[]) => ({type: 'USERS/SET-USERS', users}) as const\r\nexport const setCurrentPage = (pageNumber: number) => ({type: 'USERS/SET-CURRENT-PAGE', pageNumber}) as const\r\nconst setTotalUsersCount = (totalUsers: number) => ({type: 'USERS/SET-TOTAL-USERS-COUNT', totalUsers}) as const\r\nconst setIsFetching = (isFetching: boolean) => ({type: 'USERS/SET-IS-FETCHING', isFetching}) as const\r\nexport const setNameSearch = (nameSearch: string) => ({type: 'USERS/SET-NAME-SEARCH', nameSearch}) as const\r\nexport const setIsFollowed = (isFollowed: null | boolean) => ({type: 'USERS/SET-IS-FOLLOWED', isFollowed}) as const\r\nconst setFollowingProgress = (inProgress: boolean, userId: number) => ({\r\n    type: 'USERS/SET-FOLLOWING-PROGRESS',\r\n    inProgress,\r\n    userId\r\n}) as const\r\n\r\n//thunk\r\nexport const setUsersFromServer = (currentPage: number, pageSize: number, nameSearch?: string, isFollowed?: null | boolean): AppThunk => {\r\n    return async (dispatch) => {\r\n        dispatch(setIsFetching(true))\r\n        const usersData = await usersAPI.getUsers(currentPage, pageSize, nameSearch, isFollowed)\r\n        dispatch(setUsers(usersData.items))\r\n        dispatch(setTotalUsersCount(usersData.totalCount))\r\n        dispatch(setIsFetching(false))\r\n    }\r\n}\r\n\r\nexport const _followUnfollow = async (dispatch: Dispatch,\r\n                                      userId: number,\r\n                                      apiRequest: any,\r\n                                      actionCreator: any) => {\r\n    dispatch(setIsFetching(true))\r\n    setFollowingProgress(true, userId)\r\n    const response = await apiRequest(userId)\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n        dispatch(setIsFetching(false))\r\n    }\r\n}\r\n\r\nexport const followUser = (userId: number): AppThunk => {\r\n    return async (dispatch) => {\r\n        await _followUnfollow(dispatch, userId, followAPI.followUser.bind(followAPI), follow)\r\n    }\r\n}\r\nexport const unfollowUser = (userId: number): AppThunk => {\r\n    return async (dispatch) => {\r\n        await _followUnfollow(dispatch, userId, followAPI.unfollowUser.bind(followAPI), unfollow);\r\n    }\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport s from \"./User.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/bryan_avatar.jpg\";\r\nimport {Button} from \"../../Button/Button\";\r\n\r\ntype UserPropsType = {\r\n    id: number\r\n    photos: any\r\n    followed: boolean\r\n    followingInProgress: number[]\r\n    follow: (id: number) => void\r\n    unfollow: (id: number) => void\r\n    name: string\r\n}\r\n\r\nexport const User = (props: UserPropsType) => {\r\n    return (\r\n        <div key={props.id} className={s.userBody}>\r\n            <div className={s.avatarAndFollow}>\r\n                <div>\r\n                    <NavLink to={`/profile/${props.id}`}>\r\n                        <img src={props.photos.small || userPhoto}\r\n                             className={s.profilePic}\r\n                             alt='avatar'/>\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <div>\r\n                    {props.followed\r\n                        ? <Button\r\n                            disabled={props.followingInProgress.some(id => id === props.id)}\r\n                            onClick={() => { props.unfollow(props.id) }}>Unfollow</Button>\r\n                        : <Button\r\n                            disabled={props.followingInProgress.some(id => id === props.id)}\r\n                            onClick={() => { props.follow(props.id) }}>Follow</Button>}\r\n                </div>\r\n            </div>\r\n            <div className={s.infoContainer}>\r\n                <span className={s.nameSurname}>{props.name}</span>\r\n\r\n                <span className={s.cityCountry}>{\"u.city\"}, {\"u.country\"}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {useFormik} from 'formik'\r\nimport s from './SearchField.module.css'\r\nimport {Button} from \"../../Button/Button\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setIsFollowed, setNameSearch} from \"../../../redux/users-reducer\";\r\nimport {RootState} from \"../../../redux/redux-store\";\r\n\r\nexport const SearchUsersField = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const {isFollowed} = useSelector((state: RootState) => state.usersPage)\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            nameSearch: '',\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(setNameSearch(values.nameSearch))\r\n        },\r\n    });\r\n\r\n    const showAllHandler = () => {\r\n        dispatch(setNameSearch(''))\r\n        dispatch(setIsFollowed(null))\r\n\r\n    }\r\n\r\n    return (\r\n        <div className={s.searchContainer}>\r\n\r\n            <div className={s.followed}>\r\n                <span className={s.followedButton}>\r\n                    <Button disabled={isFollowed === true}\r\n                            onClick={() => dispatch(setIsFollowed(true))}>followed</Button></span>\r\n                <span className={s.notFollowedButton}>\r\n                    <Button disabled={isFollowed === false}\r\n                            onClick={() => dispatch(setIsFollowed(false))}>not followed</Button></span>\r\n            </div>\r\n\r\n            <div>\r\n                <form onSubmit={formik.handleSubmit}>\r\n                    <input\r\n                        id=\"nameSearch\"\r\n                        name=\"nameSearch\"\r\n                        type=\"text\"\r\n                        onChange={formik.handleChange}\r\n                        value={formik.values.nameSearch}\r\n                    />\r\n                    <Button>Search</Button>\r\n                </form>\r\n                <Button onClick={showAllHandler}>Show all</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useEffect} from \"react\";\r\nimport {UserType} from \"../../types/types\";\r\nimport {User} from \"./user/User\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {setUsersFromServer} from \"../../redux/users-reducer\";\r\nimport PaginateBoxView from \"react-paginate\";\r\nimport s from './Users.module.css'\r\nimport {SearchUsersField} from \"../common/search-field/SearchField\";\r\n\r\ntype UsersPropsType = {\r\n    users: UserType[]\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    followingInProgress: number[]\r\n    isFetching: boolean\r\n    nameSearch: string\r\n    isFollowed: null | boolean\r\n    onPageChanged: (selectedItem: { selected: number }) => void\r\n    follow: (id: number) => void\r\n    unfollow: (id: number) => void\r\n    pageSize: number\r\n    onNextPage: () => void\r\n    onPrevPage: () => void\r\n}\r\n\r\nexport const Users = ({currentPage, pageSize, totalUsersCount, nameSearch,isFollowed, ...props}: UsersPropsType) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    let pagesCount = Math.ceil(totalUsersCount / pageSize)\r\n\r\n    useEffect(() => {\r\n            dispatch(setUsersFromServer(currentPage, pageSize, nameSearch, isFollowed))\r\n        },\r\n        [dispatch,pageSize,currentPage,nameSearch,isFollowed])\r\n\r\n    return <div className={s.usersPage}>\r\n\r\n\r\n\r\n        <SearchUsersField />\r\n\r\n        <div className={s.usersList}>\r\n            {props.users.map(u => <User id={u.id}\r\n                                        photos={u.photos}\r\n                                        followed={u.followed}\r\n                                        followingInProgress={props.followingInProgress}\r\n                                        unfollow={props.unfollow}\r\n                                        follow={props.follow}\r\n                                        name={u.name}/>)}\r\n        </div>\r\n\r\n        <div className={s.paginateContainer}>\r\n            <PaginateBoxView previousLabel={\"<\"}\r\n                             nextLabel={\">\"}\r\n                             breakLabel={\"...\"}\r\n                             breakClassName={\"break-me\"}\r\n                             pageCount={pagesCount}\r\n                             pageRangeDisplayed={5}\r\n                             marginPagesDisplayed={2}\r\n                             onPageChange={props.onPageChanged}\r\n                             containerClassName={`${s.pagination}`}\r\n                // subContainerClassName={\"pages pagination\"}\r\n                             activeClassName={`${s.active}`}/>\r\n        </div>\r\n    </div>\r\n}\r\n","import {createSelector} from \"reselect\";\r\nimport {RootState} from \"./redux-store\";\r\n\r\n\r\nconst getUsersSelector = (state: RootState) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {\r\n        return users.filter(u => true);\r\n    })\r\n\r\nexport const getPageSize = (state: RootState) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state: RootState) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: RootState) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: RootState) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state: RootState) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\nexport const nameSearch = (state: RootState) => {\r\n    return state.usersPage.nameSearch;\r\n}\r\nexport const isFollowed = (state: RootState) => {\r\n    return state.usersPage.isFollowed;\r\n}\r\n","import React from \"react\";\r\nimport {followUser, setCurrentPage, setUsersFromServer, unfollowUser} from \"../../redux/users-reducer\";\r\nimport {Users} from \"./Users\";\r\nimport {Preload} from \"../common/preload/Preload\";\r\nimport {RootState} from \"../../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers, isFollowed, nameSearch\r\n} from \"../../redux/users-selectors\";\r\nimport {UserType} from \"../../types/types\";\r\n\r\ntype UsersContainerPropsType = {\r\n    users: UserType[]\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    isFetching: boolean\r\n    isFollowed: null | boolean\r\n    nameSearch: string\r\n    followingInProgress: number[]\r\n    followUser: (id: number) => void\r\n    unfollowUser: (id: number) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    setUsersFromServer: (currentPage: number, pageSize: number) => void\r\n}\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.setUsersFromServer(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (selectedItem: { selected: number}) => {\r\n        this.props.setCurrentPage(selectedItem.selected)\r\n        this.props.setUsersFromServer(selectedItem.selected,this.props.pageSize)\r\n    }\r\n    onNextPage = () => {\r\n        this.props.setCurrentPage(this.props.currentPage + 1)\r\n    }\r\n    onPrevPage = () => {\r\n        this.props.setCurrentPage(this.props.currentPage - 1)\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n\r\n            {this.props.isFetching && <Preload />}\r\n\r\n            <Users users={this.props.users}\r\n                   pageSize={this.props.pageSize}\r\n                   totalUsersCount={this.props.totalUsersCount}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   nameSearch={this.props.nameSearch}\r\n                   isFollowed={this.props.isFollowed}\r\n                   follow={this.props.followUser}\r\n                   unfollow={this.props.unfollowUser}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   isFetching={this.props.isFetching}\r\n                   onNextPage={this.onNextPage}\r\n                   onPrevPage={this.onPrevPage}\r\n                   />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\n    return {\r\n        users: getUsers(state),\r\n        currentPage: getCurrentPage(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        pageSize: getPageSize(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        nameSearch: nameSearch(state),\r\n        isFollowed: isFollowed(state),\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    //withAuthRedirect,\r\n    connect(mapStateToProps, {unfollowUser, followUser, setCurrentPage, setUsersFromServer}))(UsersContainer)","import React from \"react\";\r\nimport s from \"./Message.module.css\"\r\n\r\ntype MessagePropsType = {\r\n    id: string\r\n    message: string\r\n}\r\n\r\nfunction Message(props: MessagePropsType) {\r\n    return (\r\n        <div className={s.message}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message;\r\n","import {maxLengthCreator, required} from \"../../../../../validators/validators\";\r\nimport React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../../../common/formControls/FormControls\";\r\nimport {Button} from \"../../../../Button/Button\";\r\nimport s from \"./NewMessage.module.css\";\r\n\r\nexport type MessageFormDataType = {\r\n    message: string\r\n}\r\n\r\nconst maxLength5000 = maxLengthCreator(5000)\r\n\r\nconst MessageForm: React.FC<InjectedFormProps<MessageFormDataType>> = (props) => {\r\n\r\n    return (\r\n        <div className={s.newMessageForm}>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field placeholder={'message'}\r\n                           name={'message'}\r\n                           component={Textarea}\r\n                           validate={[required, maxLength5000]}/>\r\n                </div>\r\n\r\n                <div>\r\n                    <Button>Send</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default reduxForm<MessageFormDataType>({form: 'message'})(MessageForm)","import React from \"react\";\r\nimport s from \"./Messages.module.css\";\r\nimport Message from \"./message/Message\";\r\nimport {MessageType} from \"../../../types/types\";\r\nimport MessageForm, {MessageFormDataType} from \"./message/newMessage/NewMessage\";\r\n\r\ntype MessagesPropsType = {\r\n    messages: MessageType[]\r\n    newMessageText: string\r\n    addMessage: (message: string) => void\r\n}\r\n\r\nfunction Messages(props: MessagesPropsType) {\r\n\r\n        let messagesItems = props.messages.map((el) => <Message key={el.id} id={el.id} message={el.messageText}/>)\r\n    console.log(props.messages)\r\n\r\n    const onAddMessage = (formData: MessageFormDataType) => {\r\n\r\n        props.addMessage(formData.message)\r\n    }\r\n\r\n    return (\r\n        <div className={s.messagesContainer}>\r\n            <div className={s.messages}>\r\n                {messagesItems}\r\n            </div>\r\n\r\n            <MessageForm onSubmit={onAddMessage} />\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Messages;","export default __webpack_public_path__ + \"static/media/morty.17d23175.png\";","import React from \"react\";\r\nimport s from \"./Dialog.module.css\"\r\nimport {NavLink} from \"react-router-dom\";\r\nimport morty from '../../../assets/images/morty.png'\r\n\r\ntype DialogPropsType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nfunction Dialog(props: DialogPropsType) {\r\n    return (\r\n        <div>\r\n\r\n            <div className={s.dialog}>\r\n                <div className={s.avatar}>\r\n                    <img src={morty} alt='avatar'/>\r\n                </div>\r\n                <NavLink activeClassName={s.activeDialog} to={`/dialogs/${props.id}`}>{props.name}</NavLink>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialog;","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\"\r\nimport Messages from \"./messages/Messages\";\r\nimport Dialog from \"./Dialog/Dialog\";\r\nimport {DialogType, MessageType} from \"../../types/types\";\r\n\r\ntype DialogsPropsType = {\r\n    messages: MessageType[]\r\n    dialogs: DialogType[]\r\n    newMessageText: string\r\n    addMessageAC: (message: string) => void\r\n}\r\n\r\nfunction Dialogs(props: DialogsPropsType) {\r\n\r\n    let dialogsItems = props.dialogs.map((el: DialogType) => <Dialog key={el.id} id={el.id} name={el.name}/>)\r\n\r\n    return (\r\n\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsItems}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <Messages messages={props.messages}\r\n                          newMessageText={props.newMessageText}\r\n                          addMessage={props.addMessageAC}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React, {ComponentType} from \"react\";\r\nimport {RootState} from \"../redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\ntype MapStatePropsType = {\r\n    isAuth: boolean\r\n}\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    function RedirectComponent(props: MapStatePropsType) {\r\n        const {isAuth, ...restProps} = props\r\n        if (!isAuth) {\r\n            return <Redirect to=\"/login\"/>\r\n        }\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}\r\n","import {v1} from \"uuid\";\r\nimport {DialogType, MessageType} from \"../types/types\";\r\n\r\ntype DialogsPageType = {\r\n    messages: MessageType[]\r\n    dialogs: DialogType[]\r\n}\r\n\r\nexport type DialogsActionsType = ReturnType<typeof addMessageAC>\r\n\r\n\r\nlet initialState = {\r\n    messages: [{id: v1(), messageText: \"Hi, how are you?\"},\r\n        {id: v1(), messageText: \"Summer is coming!\"},\r\n        {id: v1(), messageText: \"Yo\"},\r\n        {id: v1(), messageText: \"Yoyo\"}],\r\n    dialogs: [{id: v1(), name: \"Tatiana\"},\r\n        {id: v1(), name: \"Dasha\"},\r\n        {id: v1(), name: \"Victor\"},\r\n        {id: v1(), name: \"Ergun\"},],\r\n}\r\n\r\nexport const dialogsReducer = (state: DialogsPageType = initialState, action: DialogsActionsType): DialogsPageType => {\r\n    switch (action.type) {\r\n        case 'DIALOGS/ADD-MESSAGE':\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: v1(), messageText: action.newMessageText}],\r\n            }\r\n        default:\r\n            return {...state}\r\n    }\r\n}\r\n\r\nexport const addMessageAC = (newMessageText: string) => {\r\n    return {type: 'DIALOGS/ADD-MESSAGE', newMessageText} as const\r\n}\r\n","import React from \"react\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootState} from \"../../redux/redux-store\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {addMessageAC} from \"../../redux/dialogs-reducer\";\r\n\r\nlet mapStateToProps = (state: RootState) => {\r\n    return {\r\n        dialogs: state.dialogsPage.dialogs,\r\n        messages: state.dialogsPage.messages,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(connect(mapStateToProps, {addMessageAC}), withAuthRedirect)(Dialogs)\r\n","import {setAuthUserData} from \"./auth-reducer\";\r\nimport {AppThunk} from \"./redux-store\";\r\n\r\nexport type AppActionsType = ReturnType<typeof initializingSuccess>\r\n\r\nlet initState = {\r\n    initialized: false\r\n}\r\n\r\ntype InitStateType = typeof initState\r\n\r\n\r\nexport const appReducer = (state = initState, action: AppActionsType): InitStateType => {\r\n    switch (action.type) {\r\n        case 'APP/INITIALIZED_SUCCESS':\r\n            return {...state, initialized: true}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nconst initializingSuccess = () => ({type: 'APP/INITIALIZED_SUCCESS'} as const)\r\n\r\n//thunk\r\nexport const initializeApp = (): AppThunk => (dispatch) => {\r\n    let promise = dispatch(setAuthUserData())\r\n    // @ts-ignore\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializingSuccess())\r\n        })\r\n\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/spotify_icon.3b2959fb.png\";","import React from \"react\";\r\nimport s from './Music.module.css'\r\nimport spotify from '../../assets/images/spotify_icon.png'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport const Music = () => {\r\n    return (\r\n        <div className={s.musicContainer}>\r\n            <div className={s.spotifyText}>\r\n                Check out my Spotify Playlist!\r\n                <span className={s.arrowDown}></span>\r\n            </div>\r\n\r\n            <div className={s.spotifyIcon}>\r\n                <a\r\n                    href='https://open.spotify.com/playlist/6Wx8e7k4P9gP8n1qFopWbV?si=NWuwTF9wSP-CSIa_UGEYoA&utm_source=native-share-menu&dl_branch=1'\r\n                    target=\"_blank\">\r\n                    <img src={spotify} alt='spotify icon'/>\r\n                </a>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport s from './Video.module.css'\r\n\r\nexport const Video = () => {\r\n    return (\r\n        <>\r\n            <h2 style={{color: 'rgba(255,255,255,0.9', textAlign: 'center', fontWeight: 'normal'}}>\r\n                Shrek and Donkey\r\n            </h2>\r\n            <YoutubeEmbed embedId=\"-FtCTW2rVFM\" />\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\ntype YoutubeEmbedPropsTypes = {\r\n    embedId: string\r\n}\r\n\r\nconst YoutubeEmbed = (props: YoutubeEmbedPropsTypes) => (\r\n    <div className={s.videoResponsive}>\r\n        <iframe\r\n            width=\"853\"\r\n            height=\"480\"\r\n            src={`https://www.youtube.com/embed/${props.embedId}`}\r\n            frameBorder=\"0\"\r\n            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n            allowFullScreen\r\n            title=\"Embedded youtube\"\r\n        />\r\n    </div>\r\n);","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./components/navbar/Navbar\";\r\nimport {Switch, HashRouter, Route} from \"react-router-dom\";\r\nimport HeadApiContainer from \"./components/header/HeaderContainer\";\r\nimport Login from \"./components/login/Login\";\r\nimport ProfileContainer from \"./components/profile/ProfileContainer\";\r\nimport UsersContainer from \"./components/users/UsersContainer\";\r\nimport Dialogs from \"./components/dialogs/DialogsContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {RootState} from \"./redux/redux-store\";\r\nimport {Preload} from \"./components/common/preload/Preload\";\r\nimport {Music} from \"./components/music/Music\";\r\nimport {Video} from \"./components/video/Video\";\r\n\r\ntype AppPropsType = {\r\n    initializeApp: () => void\r\n    initialized: boolean\r\n}\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preload/>\r\n        }\r\n        return (\r\n            <HashRouter>\r\n                <div className=\"app_wrapper\">\r\n                    <HeadApiContainer/>\r\n                    <Navbar/>\r\n                    <div className=\"app_wrapper_content\">\r\n                        <Switch>\r\n                            <Route path='/' exact render={() => <ProfileContainer/>}/>\r\n                            <Route path='/dialogs' render={() => <Dialogs/>}/>\r\n                            <Route path='/profile/:userId?' render={() => <ProfileContainer/>}/>\r\n                            <Route path='/users' render={() => <UsersContainer/>}/>\r\n                            <Route path='/login' render={() => <Login/>}/>\r\n                            <Route path='/music' render={() => <Music/>}/>\r\n                            <Route path='/video' render={() => <Video/>}/>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            </HashRouter>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: RootState) => ({initialized: state.app.initialized})\r\n\r\n\r\nexport default connect(mapStateToProps, {initializeApp})(App)\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {DialogsActionsType, dialogsReducer} from \"./dialogs-reducer\";\r\nimport {ProfileActionsType, profileReducer} from \"./profile-reducer\";\r\nimport {UsersActionsType, usersReducer} from \"./users-reducer\";\r\nimport {AuthActionsType, authReducer} from \"./auth-reducer\";\r\nimport thunk, {ThunkAction} from \"redux-thunk\"\r\nimport {reducer as formReducer} from \"redux-form\"\r\nimport {AppActionsType, appReducer} from \"./app-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\nexport let store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n    ReturnType,\r\n    RootState,\r\n    unknown,\r\n    ActionsType\r\n    >\r\n\r\ntype ActionsType = AppActionsType\r\n    | AuthActionsType\r\n    | DialogsActionsType\r\n    | ProfileActionsType\r\n    | UsersActionsType\r\n\r\n\r\n//@ts-ignore\r\nwindow.store = store\r\n\r\n","import './index.css';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {store} from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n\r\n    ReactDOM.render(\r\n        <React.StrictMode>\r\n            <Provider store={store} >\r\n            <App />\r\n            </Provider>\r\n        </React.StrictMode>,\r\n        document.getElementById('root')\r\n    );\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profilePic\":\"User_profilePic__K3dr4\",\"infoContainer\":\"User_infoContainer__iyodb\",\"userBody\":\"User_userBody__TqBcp\",\"avatarAndFollow\":\"User_avatarAndFollow__309b7\",\"nameSurname\":\"User_nameSurname__2gZzy\",\"cityCountry\":\"User_cityCountry__1VvRG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorBlock\":\"FormControls_errorBlock__mszNK\",\"errorMessage\":\"FormControls_errorMessage__14Rlm\",\"errorTextfield\":\"FormControls_errorTextfield__2Smx1\",\"loginFormError\":\"FormControls_loginFormError__2oIpf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileInfoContainer\":\"ProfileInfo_profileInfoContainer__31izu\",\"profilePicBox\":\"ProfileInfo_profilePicBox__1v2ul\",\"profileInfo\":\"ProfileInfo_profileInfo__3MZRw\",\"profileName\":\"ProfileInfo_profileName__21N8p\",\"profileStatus\":\"ProfileInfo_profileStatus__2pzyQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__1TuW0\",\"postBody\":\"Post_postBody__37jfN\",\"postText\":\"Post_postText__1kRe1\",\"likeArea\":\"Post_likeArea__6q2go\",\"likes\":\"Post_likes__mY4Dr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPage\":\"Users_usersPage__15kkH\",\"usersList\":\"Users_usersList__fHZaP\",\"paginateContainer\":\"Users_paginateContainer__2DY-y\",\"pagination\":\"Users_pagination__bcSmr\",\"active\":\"Users_active__Bz_iC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__15MjQ\",\"loginBlock\":\"Header_loginBlock__3cBlQ\",\"userName\":\"Header_userName__2Nmf8\",\"logOut\":\"Header_logOut__1oDlu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginContainer\":\"Login_loginContainer__3J4fV\",\"free\":\"Login_free__3cza0\",\"loginItem\":\"Login_loginItem__f1NJ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"likesContainer\":\"Likes_likesContainer__2K8F7\",\"likesCount\":\"Likes_likesCount__2zRNx\",\"heart\":\"Likes_heart__1Dgfr\",\"red\":\"Likes_red__2pvC4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"SearchField_searchContainer__3409P\",\"followed\":\"SearchField_followed__1_KfI\",\"followedButton\":\"SearchField_followedButton__3Ikf2\",\"notFollowedButton\":\"SearchField_notFollowedButton__2LOij\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musicContainer\":\"Music_musicContainer__vnShs\",\"spotifyIcon\":\"Music_spotifyIcon__3G3TS\",\"spotifyText\":\"Music_spotifyText__3X-PK\",\"arrowDown\":\"Music_arrowDown__o6NCw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3laYm\",\"dialogsItems\":\"Dialogs_dialogsItems__3j9ay\",\"messages\":\"Dialogs_messages__12P48\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialog_dialog__1spPm\",\"avatar\":\"Dialog_avatar__2orif\"};"],"sourceRoot":""}