(this.webpackJsonpsocial_network_ts=this.webpackJsonpsocial_network_ts||[]).push([[5],{308:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s(107);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var s=[],n=!0,a=!1,r=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(s.push(c.value),!t||s.length!==t);n=!0);}catch(o){a=!0,r=o}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}return s}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},309:function(e,t,s){"use strict";var n=s(69),a=(s(0),s(139)),r=s(140),c=s(85),i=s(30),o=s(310),u=s.n(o),j=s(1),l=Object(n.a)(5e3);t.a=Object(r.a)({form:"message"})((function(e){return Object(j.jsx)("div",{className:u.a.newMessageForm,children:Object(j.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(j.jsx)("div",{children:Object(j.jsx)(a.a,{placeholder:"message",name:"message",component:c.b,validate:[n.b,l]})}),Object(j.jsx)("div",{children:Object(j.jsx)(i.a,{children:"Send"})})]})})}))},310:function(e,t,s){e.exports={newMessageForm:"NewMessage_newMessageForm__3B_Fo"}},321:function(e,t,s){e.exports={chatContainer:"Chat_chatContainer__j8DXm",messages:"Chat_messages__1eilr"}},322:function(e,t,s){e.exports={message:"ChatMessage_message__2elaH"}},326:function(e,t,s){"use strict";s.r(t);var n=s(36),a=s(308),r=s(0),c=s(321),i=s.n(c),o=s(309),u=s(106),j=s(322),l=s.n(j),b=s(1),d=function(e){var t;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:l.a.message,children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:null!==(t=e.photo)&&void 0!==t?t:u.a,alt:"profile-picture"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:e.userName}),Object(b.jsx)("br",{}),e.message]})]}),Object(b.jsx)("hr",{})]})},m=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");t.default=function(){var e=Object(r.useState)([]),t=Object(a.a)(e,2),s=t[0],c=t[1];Object(r.useEffect)((function(){m.addEventListener("message",(function(e){c((function(t){return[].concat(Object(n.a)(t),Object(n.a)(JSON.parse(e.data)))}))}))}),[]);var u=s.map((function(e){return Object(b.jsx)(d,{photo:e.photo,userName:e.userName,message:e.message},e.userId)}));return Object(b.jsxs)("div",{className:i.a.chatContainer,children:[Object(b.jsx)("div",{className:i.a.messages,children:u}),Object(b.jsx)(o.a,{onSubmit:function(e){e&&m.send(e.message)}})]})}}}]);
//# sourceMappingURL=5.2cc4311c.chunk.js.map