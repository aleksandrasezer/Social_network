(this.webpackJsonpsocial_network_ts=this.webpackJsonpsocial_network_ts||[]).push([[4],{308:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(108);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,s=void 0;try{for(var c,o=e[Symbol.iterator]();!(a=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(i){r=!0,s=i}finally{try{a||null==o.return||o.return()}finally{if(r)throw s}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},315:function(e,t,n){e.exports={chatContainer:"Chat_chatContainer__j8DXm",messages:"Chat_messages__1eilr"}},316:function(e,t,n){e.exports={message:"ChatMessage_message__2elaH"}},319:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(308),s=n(0),c=n(315),o=n.n(c),i=n(139),u=n(107),l=n(316),j=n.n(l),b=n(1),d=function(e){var t;return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:j.a.message,children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:null!==(t=e.photo)&&void 0!==t?t:u.a,alt:"avatar"})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("b",{children:e.userName}),Object(b.jsx)("br",{}),e.message]})]}),Object(b.jsx)("hr",{})]})},h=null;t.default=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){return function(){var e;null===(e=h)||void 0===e||e.close(),(h=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("message",(function(e){c((function(t){return[].concat(Object(a.a)(t),Object(a.a)(JSON.parse(e.data)))}))}))}()}),[]);var u=n.map((function(e){return Object(b.jsx)(d,{photo:e.photo,userName:e.userName,message:e.message},e.userId)}));return Object(b.jsxs)("div",{className:o.a.chatContainer,children:[Object(b.jsx)("div",{className:o.a.messages,children:u}),Object(b.jsx)(i.a,{onSubmit:function(e){var t;e&&(null===(t=h)||void 0===t||t.send(e.message))}})]})}}}]);
//# sourceMappingURL=4.572d0d47.chunk.js.map